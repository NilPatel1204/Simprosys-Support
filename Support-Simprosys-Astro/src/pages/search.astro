---
import Carousel from "../components/Carousel.astro";
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <Carousel />
  <section
    class="mx-[26px] lg:mx-[50px] 2xl:mx-[97.5px] mt-[20px] xl:mt-[70px] mb-[64px]"
  >
    <div class="container mx-auto">
      <h1 class="text-3xl lg:text-4xl font-bold mb-8 break-words">
        <span id="searchCount"></span> Search Results for: "<span
          id="search-term"></span>"
      </h1>

      <div id="search-results">
        <p class="text-gray-500">Searching...</p>
      </div>
    </div>

    <!-- âœ… Client-side JavaScript -->
    <script src="../../src/assets/static/search.js"></script>
  </section>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const params = new URLSearchParams(window.location.search);
      const keyword = params.get("query") || "Simprosys InfoMedia Help Centre";

      document.title = `${keyword} - Simprosys InfoMedia Help Centre`;

      const searchTermElement = document.getElementById("search-term");
      if (searchTermElement) {
        searchTermElement.textContent = keyword;
      }
    });
  </script>
</Layout>
